<!DOCTYPE html>
<html>
	<head>
  		<meta charset="utf-8">
  		<link rel="stylesheet" href="/css/main.css"/>
  		<script src="/js/tmpl/main.js"></script>
      <script src="/js/tmpl/scoreboard.js"></script>
  		<script src="/js/lib/jquery-2.1.0.min.js"></script>
	</head>
	<body>
    	<div id="page"><h1>dummygame</h1></div>
      <script data-main="js/main" src="js/lib/require.js"></script>
    	<script>
            var $page = $('#page'),
            	currentScreen = 'main';

            /*Главный экран*/
            function showMainScreen() { // Конструктор экрана "Главный" 

               if(currentScreen === 'scoreboard') {
                    hideScoreboardScreen();
               } else if(currentScreen === 'game') {
                    hideGameScreen();
               }

               currentScreen = 'main';
               $page.html(mainTmpl());
               $page.find('.js-scoreboard').off('click', showScoreboardScreen);
               $page.find('.js-start-game').off('click', showGameScreen);
            }

            function hideMainScreen() { 
                $page.find('.js-scoreboard').off('click', showScoreboardScreen);
                $page.find('.js-start-game').off('click', showGameScreen);
            }

            /*Лучшие игроки*/
        	function showScoreboardScreen() {
        		hideMainScreen();
        		currentScreen = 'scoreboard';
        		$page.html(scoreboardTmpl());
        		$page.find('.js-back').on('click', showMainScreen);
        	}

        	function hideScoreboardScreen () {
        		$page.find('.js-back').off('click', showMainScreen);
        	}

        	/*Игра*/
        	function showGameScreen() {
        		hideMainScreen();
        		currentScreen = 'game';
        		$page.html(gameTmpl());
        		$page.find('.js-back').on('click', showMainScreen);
        	}

        	function hideGameScreen() {
        		$page.find('.js-back').off('click', showMainScreen);
        	}

        	showMainScreen();
        
        </script>
    </body>
</html>	


